(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(25)},21:function(e,t,a){},23:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(9),l=a(5),c=a(4),s=a.n(c),i=a(6),u=a(2),h=a(0),m=a(7),d="https://reactnd-books-api.udacity.com",b=localStorage.token;b||(b=localStorage.token=Math.random().toString(36).substr(-8));var f={Accept:"application/json",Authorization:b},k=function(e,t){return fetch("".concat(d,"/books/").concat(e.id),{method:"PUT",headers:Object(m.a)({},f,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})},p=(a(21),function(e){var t=e.onClick,a=e.book,r=e.updateTheShelf,l=e.bookList,c=e.bookShelf,s=l.filter(function(e){return e.id===a.id}),i=Object(n.useState)(c||s[0].shelf),h=Object(u.a)(i,2),m=h[0],d=h[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{defaultValue:m,onChange:function(e){var n=e.target.value;r(a,n),d(n),t&&t()}},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None"))))}),E=function(e){var t=e.bgImageURL,a=e.title,n=e.authors,r=e.imageURL,l=e.currentClick,c=e.updateTheShelf,s=e.book,i=e.bookList,u=e.allBooks,h=e.id,m=e.bookShelf;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(t||r,'")')}}),o.a.createElement(p,{onClick:l,updateTheShelf:c,book:s,bookList:i,allBooks:u,id:h,bookShelf:m})),o.a.createElement("div",{className:"book-title"},a),o.a.createElement("div",{className:"book-authors"},n||"Harper Lee")))},v=function(e){var t=e.updateTheShelf,a=e.showText,r=e.showTextHandler,c=e.allBooks,h=Object(n.useState)([]),b=Object(u.a)(h,2),k=b[0],p=b[1],v=Object(n.useState)([]),g=Object(u.a)(v,2),S=g[0],j=g[1],T=function(){var e=Object(i.a)(s.a.mark(function e(t){var a,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,j(a),!a){e.next=9;break}return e.next=5,o=t.target.value,fetch("".concat(d,"/search"),{method:"POST",headers:Object(m.a)({},f,{"Content-Type":"application/json"}),body:JSON.stringify({query:o})}).then(function(e){return e.json()}).then(function(e){return e.books});case 5:(n=e.sent).length>0?p(n):p([]),e.next=10;break;case 9:p([]);case 10:case"end":return e.stop()}var o},e,this)}));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement("div",{className:"search-books"},o.a.createElement("div",{className:"search-books-bar"},o.a.createElement(l.b,{to:"/"},o.a.createElement("button",{className:"close-search"},"Close")),o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",placeholder:"Search by title or author",value:S,onChange:T}))),o.a.createElement("div",{className:"search-books-results"},a&&o.a.createElement("div",{className:"show-text"},o.a.createElement("p",null,"Book added successfully!")),o.a.createElement("ol",{className:"books-grid"},0===S.length?o.a.createElement("div",null,o.a.createElement("h5",null,"Search for your favorite book:")):k.length>0?k.map(function(e){var a="none";return c.forEach(function(t){e.id===t.id&&(a=t.shelf)}),o.a.createElement("li",{key:e.id},o.a.createElement(E,{title:e.title,imageURL:e.imageLinks?e.imageLinks.smallThumbnail:"",authors:e.authors,updateTheShelf:t,book:e,currentClick:r,bookList:k,bookShelf:a||"move"}))}):"there is no boook includes this characters"))))},g=function(e){var t=e.bookList,a=e.showTextHandler,n=e.updateTheShelf;e.allBooks;return o.a.createElement("div",null,o.a.createElement("div",{className:"bookshelf"},o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},t.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(E,{title:e.title,bgImageURL:e.imageLinks.smallThumbnail,currentClick:a,id:e.id,authors:e.authors,bookList:t,book:e,updateTheShelf:n}))})))))},S=function(e){var t=e.showTextHandler,a=e.updateTheShelf,r=e.allBooks,c=Object(n.useState)([]),s=Object(u.a)(c,2),i=s[0],h=s[1],m=Object(n.useState)([]),d=Object(u.a)(m,2),b=d[0],f=d[1],k=Object(n.useState)([]),p=Object(u.a)(k,2),E=p[0],v=p[1];return Object(n.useEffect)(function(){var e=r.filter(function(e){return"wantToRead"===e.shelf}),t=r.filter(function(e){return"currentlyReading"===e.shelf}),a=r.filter(function(e){return"read"===e.shelf});h(t),v(a),f(e)},[r]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,"MyReads")),o.a.createElement("div",{className:"list-books-content"},o.a.createElement("div",null,o.a.createElement("h2",{className:"bookshelf-title"},"Currently Reading"),0===i.length?o.a.createElement("h5",null,"You have no reading books yet!. Search and Add your favorite book"):o.a.createElement(g,{bookList:i,showText:t,updateTheShelf:a,allBook:r}),o.a.createElement("h2",{className:"bookshelf-title"},"Want to Read"),0===b.length?o.a.createElement("h5",null,"Books that you want to read is empty!."):o.a.createElement(g,{bookList:b,showTextHandler:t,updateTheShelf:a,allBook:r}),o.a.createElement("h2",{className:"bookshelf-title"},"Read"),0===E.length?o.a.createElement("h5",null,"Read books section is empty!."):o.a.createElement(g,{bookList:E,showTextHandler:t,updateTheShelf:a}))),o.a.createElement("div",{className:"open-search"},o.a.createElement(l.b,{to:"/search"},o.a.createElement("button",null,"Add a book")))))},j=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),c=Object(u.a)(l,2),m=c[0],b=c[1],p=Object(n.useState)(!1),E=Object(u.a)(p,2),g=E[0],j=E[1],T=function(){var e=Object(i.a)(s.a.mark(function e(t,a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t,a);case 2:n=e.sent,r(function(e){return e.filter(function(e){return e.id!==n.id})},n),j(!g);case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),y=function(){b(!0),setTimeout(function(){b(!1)},3e3)};return Object(n.useEffect)(function(){!function(){var e=Object(i.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"/books"),{headers:f}).then(function(e){return e.json()}).then(function(e){return e.books});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()()},[g]),o.a.createElement("div",{className:"app"},o.a.createElement(h.c,null,o.a.createElement(h.a,{path:"/",element:o.a.createElement(S,{updateTheShelf:T,allBooks:a,showTextHandler:y})}),o.a.createElement(h.a,{path:"search",element:o.a.createElement(v,{updateTheShelf:T,showText:m,showTextHandler:y,allBooks:a})})))},T=(a(23),document.getElementById("root"));Object(r.createRoot)(T).render(o.a.createElement(l.a,null,o.a.createElement(j,{tab:"home"})))}},[[10,2,1]]]);
//# sourceMappingURL=main.31b72025.chunk.js.map